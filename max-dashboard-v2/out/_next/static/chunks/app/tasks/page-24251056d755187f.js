(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[289],{3612:function(e,t,a){Promise.resolve().then(a.bind(a,6031))},6031:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var s=a(7437),r=a(2265);let l=[{id:"todo",label:"To Do",color:"border-[#fab005]"},{id:"inprogress",label:"In Progress",color:"border-[#5c7cfa]"},{id:"done",label:"Done",color:"border-[#40c057]"}],n=[{id:"julius",label:"Julius",emoji:"\uD83D\uDC64"},{id:"max",label:"Max",emoji:"\uD83E\uDD16"}],i="maxmode-task-changed";function d(){let[e,t]=(0,r.useState)([]),[a,d]=(0,r.useState)([{role:"assistant",content:'Hi! Describe a task and I\'ll create it. Try: "Follow up with bride tomorrow" or "Send quote to client"'}]),[c,o]=(0,r.useState)(""),[x,m]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!0),g=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=localStorage.getItem("maxmode-tasks-kanban");e&&t(JSON.parse(e))},[]);let h=()=>{window.dispatchEvent(new Event(i))};(0,r.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("maxmode-tasks-kanban");e&&t(JSON.parse(e))};return window.addEventListener("storage",e),window.addEventListener(i,e),()=>{window.removeEventListener("storage",e),window.removeEventListener(i,e)}},[]);let f=e=>{t(e),localStorage.setItem("maxmode-tasks-kanban",JSON.stringify(e)),h()},b=e=>{let t=e.toLowerCase(),a="General";for(let[e,s]of Object.entries({wedding:["wedding","bride","groom","venue","vendor","marriage"],business:["quote","invoice","client","lead","sale","proposal","contract"],marketing:["email","social","post","ad","campaign","content"],personal:["personal","family","friend","birthday"]}))if(s.some(e=>t.includes(e))){a=e.charAt(0).toUpperCase()+e.slice(1);break}let s="medium";t.includes("urgent")||t.includes("asap")||t.includes("important")||t.includes("!")?s="high":(t.includes("whenever")||t.includes("sometime")||t.includes("low priority"))&&(s="low");let r="julius";(t.includes("max")||t.includes("you"))&&(r="max");let l=null,n=new Date;if(t.includes("tomorrow")){let e=new Date(n);e.setDate(e.getDate()+1),l=e.toISOString().split("T")[0]}else if(t.includes("next week")){let e=new Date(n);e.setDate(e.getDate()+7),l=e.toISOString().split("T")[0]}else t.includes("today")&&(l=n.toISOString().split("T")[0]);let i=t.replace(/tomorrow/g,"").replace(/today/g,"").replace(/next week/g,"").replace(/urgent/g,"").replace(/asap/g,"").replace(/important/g,"").replace(/whenever/g,"").replace(/max/g,"").replace(/you/g,"").replace(/julius/g,"").replace(/remember to /g,"").replace(/remind me to /g,"").replace(/i need to /g,"").replace(/i should /g,"").replace(/can you /g,"").trim();return{text:(i=i.charAt(0).toUpperCase()+i.slice(1))||e,category:a,priority:s,assignee:r,dueDate:l}},j=t=>{let a={id:Date.now().toString(),text:t.text||"",status:"todo",assignee:t.assignee||"julius",category:t.category||"General",priority:t.priority||"medium",dueDate:t.dueDate||null,createdAt:new Date().toISOString()};return f([a,...e]),a},w=async e=>{if(e.preventDefault(),!c.trim()||x)return;let t=c.trim();o(""),d(e=>[...e,{role:"user",content:t}]),m(!0),await new Promise(e=>setTimeout(e,800));let a=b(t);if(a&&a.text){let e=j(a);d(t=>[...t,{role:"assistant",content:'Created task: "'.concat(e.text,'"'),task:e}])}else d(e=>[...e,{role:"assistant",content:"I couldn't create that task. Try rephrasing!"}]);m(!1)},N=t=>e.filter(e=>e.status===t),y=(t,a)=>{f(e.map(e=>e.id===t?{...e,status:a}:e))},v=t=>{f(e.filter(e=>e.id!==t))},D=e=>{switch(e){case"high":return"bg-[#fa5252]/20 text-[#fa5252] border-[#fa5252]";case"medium":return"bg-[#fab005]/20 text-[#fab005] border-[#fab005]";case"low":return"bg-[#40c057]/20 text-[#40c057] border-[#40c057]";default:return"bg-[#2a2a2e] text-[#9a9a9e]"}},k=e=>{if(!e)return"";let t=new Date(e),a=new Date,s=new Date(a);return(s.setDate(s.getDate()+1),t.toDateString()===a.toDateString())?"Today":t.toDateString()===s.toDateString()?"Tomorrow":t.toLocaleDateString("en-US",{month:"short",day:"numeric"})};return(0,s.jsxs)("div",{className:"p-4 md:p-6",children:[(0,s.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-1",children:"Tasks"}),(0,s.jsx)("p",{className:"text-[#9a9a9e]",children:"AI Assistant + Kanban Board"})]}),(0,s.jsx)("div",{className:"flex items-center gap-3",children:(0,s.jsx)("button",{onClick:()=>p(!u),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat(u?"bg-[#5c7cfa] text-white":"bg-[#2a2a2e] text-[#9a9a9e]"),children:u?"\uD83D\uDCCB Board":"\uD83D\uDCAC AI Chat"})})]}),u?(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"card p-4 flex flex-col h-[600px]",children:[(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4 mb-4",children:[a.map((e,t)=>(0,s.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,s.jsxs)("div",{className:"max-w-[80%] rounded-lg p-3 ".concat("user"===e.role?"bg-[#5c7cfa] text-white":"bg-[#2a2a2e] text-white"),children:[(0,s.jsx)("p",{className:"text-sm",children:e.content}),e.task&&(0,s.jsxs)("div",{className:"mt-2 pt-2 border-t border-[#3a3a3e]",children:[(0,s.jsx)("p",{className:"text-xs opacity-70",children:"Created task:"}),(0,s.jsx)("p",{className:"font-medium",children:e.task.text}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[(0,s.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-[#0d0d0f]",children:e.task.category}),(0,s.jsx)("span",{className:"text-xs px-2 py-0.5 rounded border ".concat(D(e.task.priority)),children:e.task.priority}),e.task.dueDate&&(0,s.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-[#0d0d0f]",children:k(e.task.dueDate)})]})]})]})},t)),x&&(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsx)("div",{className:"bg-[#2a2a2e] rounded-lg p-3",children:(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)("span",{className:"w-2 h-2 bg-[#9a9a9e] rounded-full animate-bounce"}),(0,s.jsx)("span",{className:"w-2 h-2 bg-[#9a9a9e] rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),(0,s.jsx)("span",{className:"w-2 h-2 bg-[#9a9a9e] rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})})}),(0,s.jsx)("div",{ref:g})]}),(0,s.jsxs)("form",{onSubmit:w,className:"flex gap-2",children:[(0,s.jsx)("input",{type:"text",value:c,onChange:e=>o(e.target.value),placeholder:"Describe a task...",className:"flex-1 bg-[#0d0d0f] border border-[#2a2a2e] rounded-lg px-4 py-3 text-white placeholder-[#9a9a9e] focus:outline-none focus:border-[#5c7cfa]"}),(0,s.jsx)("button",{type:"submit",disabled:x||!c.trim(),className:"bg-[#5c7cfa] hover:bg-[#4c6ef5] disabled:opacity-50 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"→"})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"grid grid-cols-3 gap-3",children:l.map(e=>(0,s.jsxs)("div",{className:"bg-[#161618] rounded-lg px-4 py-3 border-t-2 ".concat(e.color),children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:N(e.id).length}),(0,s.jsx)("p",{className:"text-xs text-[#9a9a9e]",children:e.label})]},e.id))}),(0,s.jsxs)("div",{className:"card p-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-[#9a9a9e] mb-3",children:"Try saying:"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsx)("p",{className:"text-white bg-[#0d0d0f] px-3 py-2 rounded",children:'"Follow up with bride tomorrow"'}),(0,s.jsx)("p",{className:"text-white bg-[#0d0d0f] px-3 py-2 rounded",children:'"Send quote to client urgent"'}),(0,s.jsx)("p",{className:"text-white bg-[#0d0d0f] px-3 py-2 rounded",children:'"Post on Instagram next week"'}),(0,s.jsx)("p",{className:"text-white bg-[#0d0d0f] px-3 py-2 rounded",children:'"Call max when you can"'})]})]})]})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:l.map(e=>(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"bg-[#161618] rounded-t-lg px-4 py-3 border-t-2 ".concat(e.color),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"font-medium text-white",children:e.label}),(0,s.jsx)("span",{className:"text-xs text-[#9a9a9e] bg-[#0d0d0f] px-2 py-0.5 rounded-full",children:N(e.id).length})]})}),(0,s.jsxs)("div",{className:"bg-[#161618]/50 rounded-b-lg p-2 flex-1 min-h-[200px] space-y-2",children:[N(e.id).map(t=>{var a;return(0,s.jsxs)("div",{className:"card p-3",children:[(0,s.jsx)("p",{className:"text-white mb-2",children:t.text}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-1 mb-2",children:[(0,s.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-[#2a2a2e]",children:null===(a=n.find(e=>e.id===t.assignee))||void 0===a?void 0:a.emoji}),(0,s.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-[#2a2a2e]",children:t.category}),(0,s.jsx)("span",{className:"text-xs px-2 py-0.5 rounded border ".concat(D(t.priority)),children:t.priority}),t.dueDate&&(0,s.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-[#2a2a2e]",children:k(t.dueDate)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex gap-1",children:["todo"!==e.id&&(0,s.jsx)("button",{onClick:()=>y(t.id,"done"===e.id?"inprogress":"todo"),className:"p-1 text-[#9a9a9e] hover:text-white",children:"←"}),"done"!==e.id&&(0,s.jsx)("button",{onClick:()=>y(t.id,"todo"===e.id?"inprogress":"done"),className:"p-1 text-[#9a9a9e] hover:text-white",children:"→"})]}),(0,s.jsx)("button",{onClick:()=>v(t.id),className:"p-1 text-[#9a9a9e] hover:text-[#fa5252]",children:"\xd7"})]})]},t.id)}),0===N(e.id).length&&(0,s.jsx)("div",{className:"text-center py-8 text-[#9a9a9e] text-sm",children:"No tasks"})]})]},e.id))})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3612)}),_N_E=e.O()}]);